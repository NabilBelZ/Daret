<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="css/all.min.css" />
  <link rel="stylesheet" href="css/framework.css" />
  <link rel="stylesheet" href="css/master.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;500&display=swap" rel="stylesheet" />
  <style>
    ::-webkit-scrollbar-thumb {
      background-color: #df4881ab;
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: #df4881ab;
    }
    .logo{
      width: 230px;
      height: 75px;
      transform: translateY(-15px);
    }
    .logo img{
      width: 80%;
      height: 100%;
    }
    .page{
      background-color: #ffc0cb2b;
    }
    .page h1::before {
      background-color: white;

    }
    .page h1::after {
      background-color: #f5c2c7;

    }
    .welcome, .latest-news, .quick-draft, .targets{
      box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
    }
  </style>
</head>
<body>
<p th:if="${msgAjoutMontant}">
  <script>
    alert("Votre solde a été augmenté avec succès.")
  </script>
</p>
<div class="page d-flex">
  <div class="sidebar bg-white p-20 p-relative">
    <div class="logo">
      <a href="/"><img src="/images/logo.png"></a>
    </div>
    <ul>
      <li>
        <a class="active d-flex align-center fs-14 c-black rad-6 p-10" href="/userDashboard">
          <i class="fa-regular fa-chart-bar fa-fw"></i>
          <span>Dashboard</span>
        </a>
      </li>
      <li>
        <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="/profile">
          <i class="fa-regular fa-user fa-fw"></i>
          <span>Profil</span>
        </a>
      </li>
      <li>
        <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="#" th:data-bs-toggle="modal" th:data-bs-target="'#wallet'">
          <i><img style="width: 19px" src="/images/wallet.png"></i>
          <span>Wallet</span>
        </a>
        <div class="modal fade" id="wallet" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="participationModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Wallet</h5>
                <button type="button" class="btn-close tahiri"  data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" style="text-align: center">
                Votre sole actuelle est <br>
                <div class="wallet">
                  <h4  style="color: green"><b th:text="${user.solde}"></b> Dh</h4>
                </div>
              </div>
              <div class="modal-footer">
                <a href="#" th:data-bs-toggle="modal" th:data-bs-target="'#ajoutSolde'" class="btn btn-success" onmouseover="this.style.backgroundColor='#198754';">Ajouter solde</a>
                <button type="button" class="btn btn-secondary tahiri" data-bs-dismiss="modal">Fermer</button>
              </div>
            </div>
          </div>
        </div>
        <!-- MODAL : Ajouter solde -->
        <div class="modal fade" id="ajoutSolde" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="participationModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Wallet</h5>
                <button type="button" class="btn-close tahiri"  data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" style="text-align: center">
                <form action="/ajouterSoldeProcess" method="post">
                  <div class="input-group">
                    <input type="text" class="form-control" name="amount">
                    <span class="input-group-text">Dh</span>
                  </div>
                  <br>
                  <input type="submit" value="Ajouter" class="btn btn-success">
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary tahiri" data-bs-dismiss="modal">Fermer</button>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <a class=" d-flex align-center fs-14 c-black rad-6 p-10" href="/mesParticipations">
          <i><img style="width: 19px" src="/images/10559921_contribution_donation_charity_grant_financial_icon.png"></i>
          <span>Mes participations</span>
        </a>
      </li>
      <li>
        <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="/listeTontines">
          <i class="fa-solid fa-diagram-project fa-fw"></i>
          <span>Darets</span>
        </a>
      </li>
      <li>
        <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="/seDeconnecter">
          <i class="fa-solid fa-arrow-right-from-bracket"></i>
          <span>Se déconnecter</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="content w-full">
    <!-- Start Head -->
    <div class="head bg-white p-15 between-flex">
      <div class="search p-relative">
        <input class="p-10" type="search" placeholder="Type A Keyword" />
      </div>
      <div class="icons d-flex align-center">
        <img src="imgs/avatar.png" />
      </div>
    </div>
    <!-- End Head -->
    <h1 style="color: #DF4881" class="p-relative">Dashboard</h1>
    <div class="wrapper d-grid gap-20">
      <!-- Start Welcome Widget -->
      <div class="welcome bg-white rad-10 txt-c-mobile block-mobile">
        <div class="intro p-20 d-flex space-between bg-eee">
          <div>
            <h2 class="m-0">Welcome</h2>
            <p class="c-grey mt-5" th:text="${#strings.toUpperCase(user.lastname)}"></p>
          </div>
          <img class="hide-mobile" src="imgs/welcome.png" alt="" />
        </div>
        <img src="imgs/avatar.png" alt="" class="avatar" />
        <div class="body txt-c d-flex p-20 mt-20 mb-20 block-mobile">
          <div> <span th:text="${#strings.capitalize(user.firstname) + ' ' + #strings.capitalize(user.lastname)}"></span> <span class="d-block c-grey fs-14 mt-10">Developer</span></div>
          <div>80 <span class="d-block c-grey fs-14 mt-10">Projects</span></div>
          <div>$8500 <span class="d-block c-grey fs-14 mt-10">Earned</span></div>
        </div>
        <a href="/profile" style="background-color: #DF4881" class="visit d-block fs-14 bg-blue c-white w-fit btn-shape">Profil</a>
      </div>
      <!-- End Welcome Widget -->


      <!-- Start Latest News Widget -->
      <div  class="latest-news p-20 bg-white rad-10 txt-c-mobile">
        <h2 class="mt-0 mb-20">Mes dernières participations</h2>
        <div th:each="participation : ${mesParticipations}" class="news-row d-flex align-center">
          <img src="imgs/news-01.png" alt="" />
          <div class="info">
            <h3 th:text="${participation.nomDaret}"></h3>
            <p th:text="${participation.descriptionDaret}" class="m-0 fs-14 c-grey"></p>
          </div>
          <div class="btn-shape bg-green c-white fs-13 label d-flex" >
            <i style="margin-right: 5px; transform: translateY(2px)"class="fa-solid fa-dollar-sign"></i>
            <div th:text="${participation.montantParticipation}" ></div>
          </div>
        </div>



      </div>
      <!-- End Latest News Widget -->

      <!-- Start Targets Widget -->
      <div class="targets p-20 bg-white rad-10">
        <h2 class="mt-0 mb-10">Statistique</h2>
        <p class="mt-0 mb-20 c-grey fs-15">Statistique de l'année</p>
        <div class="target-row mb-20 blue center-flex">
          <div class="icon center-flex">
            <i class="fa-solid fa-dollar-sign fa-lg c-blue"></i>
          </div>
          <div class="details">
            <span class="fs-14 c-grey">Money</span>
            <span class="d-block mt-5 mb-10 fw-bold">$20.000</span>
            <div class="progress p-relative">
                  <span class="bg-blue blue" style="width: 80%">
                    <span class="bg-blue">80%</span>
                  </span>
            </div>
          </div>
        </div>
        <div class="target-row mb-20 center-flex orange">
          <div class="icon center-flex">
            <i class="fa-solid fa-code fa-lg c-orange"></i>
          </div>
          <div class="details">
            <span class="fs-14 c-grey">Projects</span>
            <span class="d-block mt-5 mb-10 fw-bold">24</span>
            <div class="progress p-relative">
                  <span class="bg-orange orange" style="width: 55%">
                    <span class="bg-orange">55%</span>
                  </span>
            </div>
          </div>
        </div>
        <div class="target-row mb-20 center-flex green">
          <div class="icon center-flex">
            <i class="fa-solid fa-user fa-lg c-green"></i>
          </div>
          <div class="details">
            <span class="fs-14 c-grey">Team</span>
            <span class="d-block mt-5 mb-10 fw-bold">12</span>
            <div class="progress p-relative">
                  <span class="bg-green green" style="width: 75%">
                    <span class="bg-green">75%</span>
                  </span>
            </div>
          </div>
        </div>
      </div>
      <!-- End Targets Widget -->
    </div>


    <!-- Start Projects Table -->

    <!-- End Projects Table -->
  </div>
</div>
</body>
</html>
